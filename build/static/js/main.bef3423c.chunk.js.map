{"version":3,"sources":["components/form.js","components/filter.js","services/persons.js","components/personsData.js","components/notification.js","app.js","index.js"],"names":["AddPersonForm","addName","newName","handleNumberChange","handleNameChange","newNumber","onSubmit","required","value","onChange","type","Filter","filterByName","baseUrl","newObject","axios","post","then","response","data","get","id","delete","put","Persons","display","persons","setPersons","map","person","key","name","number","onClick","window","confirm","personService","filter","console","log","Notification","message","style","color","background","fontSize","border","paddingLeft","App","useState","setDisplay","setNewName","setNewNumber","setMessage","useEffect","initialPhonebook","event","filterated","toLowerCase","indexOf","target","length","preventDefault","currentPerson","find","p","updatedPerson","catch","error","setTimeout","newPersonObj","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bef3423c.chunk.js","sourcesContent":["import React from 'react';\n\nconst AddPersonForm = ({ addName, newName, handleNumberChange, handleNameChange, newNumber }) => {\n\t// console.log(newName, newNumber);\n\treturn (\n\t\t<form onSubmit={addName}>\n\t\t\t<div>\n\t\t\t\tname:\n\t\t\t\t<input required value={newName} onChange={handleNameChange} />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\tnumber:\n\t\t\t\t<input required value={newNumber} onChange={handleNumberChange} />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<button type=\"submit\">add</button>\n\t\t\t</div>\n\t\t</form>\n\t);\n};\n\nexport default AddPersonForm;\n","import React from 'react';\n\nconst Filter = ({ filterByName }) => {\n\treturn (\n\t\t<div>\n\t\t\tfilter contacts\n\t\t\t<input onChange={filterByName} />\n\t\t</div>\n\t);\n};\n\nexport default Filter;\n","import axios from 'axios';\nconst baseUrl = '/api/persons/';\n\nconst create = (newObject) => {\n\tconst request = axios.post(baseUrl, newObject);\n\treturn request.then((response) => response.data);\n};\n\nconst getAll = () => {\n\tconst request = axios.get(baseUrl);\n\treturn request.then((response) => response.data);\n};\n\nconst deleteContact = (id) => {\n\treturn axios.delete(baseUrl + id);\n};\n\nconst updateNumber = (id, newObject) => {\n\tconst request = axios.put(`${baseUrl}${id}`, newObject);\n\treturn request.then((response) => response.data);\n};\nexport default {\n\tcreate,\n\tgetAll,\n\tdeleteContact,\n\tupdateNumber\n};\n","import personService from '../services/persons';\nimport React from 'react';\n\nconst Persons = ({ display, persons, setPersons }) => {\n\tconst deletePerson = (id) => {\n\t\tpersonService.deleteContact(id).then(setPersons(persons.filter((person) => person.id !== id)));\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<table>\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Name</th>\n\t\t\t\t\t\t<th>Number</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{(display ? display : persons).map((person) => {\n\t\t\t\t\t\t// console.log(person);\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<tr key={person.name}>\n\t\t\t\t\t\t\t\t<td>{person.name}</td>\n\t\t\t\t\t\t\t\t<td>{person.number}</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\twindow.confirm(`Delete ${person.name}?`)\n\t\t\t\t\t\t\t\t\t\t\t\t? deletePerson(person.id)\n\t\t\t\t\t\t\t\t\t\t\t\t: console.log('delete canceled')}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\t);\n};\n\nexport default Persons;\n","import React from 'react';\n\nconst Notification = ({ message }) => {\n\tif (message) {\n\t\tconsole.log(message, 'else part');\n\t\tconst notificatonStyle = {\n\t\t\tcolor: 'black',\n\t\t\tbackground: '#91addb',\n\t\t\tfontSize: 20,\n\t\t\tborder: 'solid #394036 3px',\n\t\t\tpaddingLeft: 20\n\t\t};\n\t\treturn <div style={notificatonStyle}>{message}</div>;\n\t} else {\n\t\treturn null;\n\t}\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\nimport AddPersonForm from './components/form';\nimport Filter from './components/filter';\nimport Persons from './components/personsData';\nimport personService from './services/persons';\nimport Notification from './components/notification';\n\nconst App = () => {\n\tconst [ persons, setPersons ] = useState([]);\n\tconst [ display, setDisplay ] = useState(null);\n\tconst [ newName, setNewName ] = useState('');\n\tconst [ newNumber, setNewNumber ] = useState('');\n\tconst [ message, setMessage ] = useState(null);\n\tuseEffect(() => {\n\t\tpersonService.getAll().then((initialPhonebook) => {\n\t\t\tconsole.log('persons acquired');\n\t\t\tsetPersons(initialPhonebook);\n\t\t});\n\t}, []);\n\n\tconst addName = (event) => {\n\t\tevent.preventDefault();\n\t\tconst currentPerson = persons.find((p) => p.name === newName);\n\t\tif (!currentPerson) {\n\t\t\tconst newPersonObj = {\n\t\t\t\tname: newName,\n\t\t\t\tnumber: newNumber\n\t\t\t};\n\n\t\t\tpersonService.create(newPersonObj).then((response) => {\n\t\t\t\tsetPersons(persons.concat(response));\n\t\t\t\tsetNewName('');\n\t\t\t\tsetNewNumber('');\n\t\t\t});\n\n\t\t\tsetMessage(`Added ${newPersonObj.name}`);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetMessage(null);\n\t\t\t}, 5000);\n\n\t\t\t// setPersons(persons.concat(newPersonObj));\n\t\t} else {\n\t\t\tconst updatePrompt = window.confirm(\n\t\t\t\t`${newName} is already added to the phonebook, replace old number with new one?`\n\t\t\t);\n\t\t\tif (updatePrompt) {\n\t\t\t\tconst updatedPerson = { ...currentPerson, number: newNumber };\n\t\t\t\tpersonService\n\t\t\t\t\t.updateNumber(currentPerson.id, updatedPerson)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tsetPersons(persons.map((person) => (person.id !== currentPerson.id ? person : response)));\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\tsetMessage(`information of ${newName} has already removed from server`);\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tsetMessage(null);\n\t\t\t\t\t\t}, 5000);\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tconst handleNameChange = (event) => {\n\t\tsetNewName(event.target.value);\n\t};\n\n\tconst handleNumberChange = (event) => {\n\t\tsetNewNumber(event.target.value);\n\t};\n\n\tconst filterByName = (event) => {\n\t\tconst filterated = persons.filter(\n\t\t\t(person) => person.name.toLowerCase().indexOf(event.target.value.toLowerCase()) !== -1\n\t\t);\n\t\tsetDisplay(event.target.value.length ? filterated : null);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Notification message={message} />\n\t\t\t<Filter filterByName={filterByName} />\n\t\t\t<h3>Add New</h3>\n\t\t\t<AddPersonForm\n\t\t\t\taddName={addName}\n\t\t\t\tnewName={newName}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t\thandleNumberChange={handleNumberChange}\n\t\t\t\thandleNameChange={handleNameChange}\n\t\t\t/>\n\n\t\t\t<h2>Numbers</h2>\n\t\t\t<Persons display={display} setPersons={setPersons} persons={persons} />\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}