(this.webpackJsonppart1=this.webpackJsonppart1||[]).push([[0],{14:function(e,t,n){e.exports=n(38)},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(13),u=n.n(l),c=n(4),o=n(2),i=function(e){var t=e.addName,n=e.newName,a=e.handleNumberChange,l=e.handleNameChange,u=e.newNumber;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,"name:",r.a.createElement("input",{required:!0,value:n,onChange:l})),r.a.createElement("div",null,"number:",r.a.createElement("input",{required:!0,value:u,onChange:a})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},m=function(e){var t=e.filterByName;return r.a.createElement("div",null,"filter contacts",r.a.createElement("input",{onChange:t}))},d=n(3),f=n.n(d),s="/api/persons/",b=function(e){return f.a.post(s,e).then((function(e){return e.data}))},h=function(){return f.a.get(s).then((function(e){return e.data}))},E=function(e){return f.a.delete(s+e)},p=function(e,t){return f.a.put("".concat(s).concat(e),t).then((function(e){return e.data}))},v=function(e){var t=e.display,n=e.persons,a=e.setPersons;return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Number"))),r.a.createElement("tbody",null,(t||n).map((function(e){return r.a.createElement("tr",{key:e.name},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.number),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return window.confirm("Delete ".concat(e.name,"?"))?(t=e.id,void E(t).then(a(n.filter((function(e){return e.id!==t}))))):console.log("delete canceled");var t}},"Delete")))})))))},g=function(e){var t=e.message;if(t){console.log(t,"else part");return r.a.createElement("div",{style:{color:"black",background:"#91addb",fontSize:20,border:"solid #394036 3px",paddingLeft:20}},t)}return null},N=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],l=t[1],u=Object(a.useState)(null),d=Object(o.a)(u,2),f=d[0],s=d[1],E=Object(a.useState)(""),N=Object(o.a)(E,2),w=N[0],O=N[1],j=Object(a.useState)(""),y=Object(o.a)(j,2),C=y[0],k=y[1],S=Object(a.useState)(null),q=Object(o.a)(S,2),x=q[0],B=q[1];Object(a.useEffect)((function(){h().then((function(e){console.log("persons acquired"),l(e)}))}),[]);return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(g,{message:x}),r.a.createElement(m,{filterByName:function(e){var t=n.filter((function(t){return-1!==t.name.toLowerCase().indexOf(e.target.value.toLowerCase())}));s(e.target.value.length?t:null)}}),r.a.createElement("h3",null,"Add New"),r.a.createElement(i,{addName:function(e){e.preventDefault();var t=n.find((function(e){return e.name===w}));if(t){if(window.confirm("".concat(w," is already added to the phonebook, replace old number with new one?"))){var a=Object(c.a)(Object(c.a)({},t),{},{number:C});p(t.id,a).then((function(e){l(n.map((function(n){return n.id!==t.id?n:e})))})).catch((function(e){B("information of ".concat(w," has already removed from server")),setTimeout((function(){B(null)}),5e3)}))}}else{var r={name:w,number:C};b(r).then((function(e){l(n.concat(e)),O(""),k("")})),B("Added ".concat(r.name)),setTimeout((function(){B(null)}),5e3)}},newName:w,newNumber:C,handleNumberChange:function(e){k(e.target.value)},handleNameChange:function(e){O(e.target.value)}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(v,{display:f,setPersons:l,persons:n}))};u.a.render(r.a.createElement(N,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.58cd7dd0.chunk.js.map