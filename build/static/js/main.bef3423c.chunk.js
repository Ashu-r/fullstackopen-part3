(this.webpackJsonppart1=this.webpackJsonppart1||[]).push([[0],{14:function(e,n,t){e.exports=t(38)},38:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),l=t(13),u=t.n(l),c=t(4),o=t(2),i=function(e){var n=e.addName,t=e.newName,a=e.handleNumberChange,l=e.handleNameChange,u=e.newNumber;return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"name:",r.a.createElement("input",{required:!0,value:t,onChange:l})),r.a.createElement("div",null,"number:",r.a.createElement("input",{required:!0,value:u,onChange:a})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},m=function(e){var n=e.filterByName;return r.a.createElement("div",null,"filter contacts",r.a.createElement("input",{onChange:n}))},d=t(3),s=t.n(d),f="/api/persons/",b=function(e){return s.a.post(f,e).then((function(e){return e.data}))},h=function(){return s.a.get(f).then((function(e){return e.data}))},E=function(e){return s.a.delete(f+e)},p=function(e,n){return s.a.put("".concat(f).concat(e),n).then((function(e){return e.data}))},v=function(e){var n=e.display,t=e.persons,a=e.setPersons;return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Number"))),r.a.createElement("tbody",null,(n||t).map((function(e){return r.a.createElement("tr",{key:e.name},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.number),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return window.confirm("Delete ".concat(e.name,"?"))?(n=e.id,void E(n).then(a(t.filter((function(e){return e.id!==n}))))):console.log("delete canceled");var n}},"Delete")))})))))},g=function(e){var n=e.message;if(n){console.log(n,"else part");return r.a.createElement("div",{style:{color:"black",background:"#91addb",fontSize:20,border:"solid #394036 3px",paddingLeft:20}},n)}return null},N=function(){var e=Object(a.useState)([]),n=Object(o.a)(e,2),t=n[0],l=n[1],u=Object(a.useState)(null),d=Object(o.a)(u,2),s=d[0],f=d[1],E=Object(a.useState)(""),N=Object(o.a)(E,2),w=N[0],O=N[1],j=Object(a.useState)(""),y=Object(o.a)(j,2),C=y[0],k=y[1],S=Object(a.useState)(null),q=Object(o.a)(S,2),x=q[0],B=q[1];Object(a.useEffect)((function(){h().then((function(e){console.log("persons acquired"),l(e)}))}),[]);return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(g,{message:x}),r.a.createElement(m,{filterByName:function(e){var n=t.filter((function(n){return-1!==n.name.toLowerCase().indexOf(e.target.value.toLowerCase())}));f(e.target.value.length?n:null)}}),r.a.createElement("h3",null,"Add New"),r.a.createElement(i,{addName:function(e){e.preventDefault();var n=t.find((function(e){return e.name===w}));if(n){if(window.confirm("".concat(w," is already added to the phonebook, replace old number with new one?"))){var a=Object(c.a)(Object(c.a)({},n),{},{number:C});p(n.id,a).then((function(e){l(t.map((function(t){return t.id!==n.id?t:e})))})).catch((function(e){console.log(e),B("information of ".concat(w," has already removed from server")),setTimeout((function(){B(null)}),5e3)}))}}else{var r={name:w,number:C};b(r).then((function(e){l(t.concat(e)),O(""),k("")})),B("Added ".concat(r.name)),setTimeout((function(){B(null)}),5e3)}},newName:w,newNumber:C,handleNumberChange:function(e){k(e.target.value)},handleNameChange:function(e){O(e.target.value)}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(v,{display:s,setPersons:l,persons:t}))};u.a.render(r.a.createElement(N,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.bef3423c.chunk.js.map